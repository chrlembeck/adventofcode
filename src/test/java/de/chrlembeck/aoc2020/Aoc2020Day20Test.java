package de.chrlembeck.aoc2020;

import de.chrlembeck.aoc2020.day20.Aoc2020Day20;
import org.junit.jupiter.api.Test;

import static de.chrlembeck.aoccommon.TestUtils.test;
import static org.junit.jupiter.api.Assertions.assertEquals;

public class Aoc2020Day20Test {

    @Test
    public void test1() {
        final Aoc2020Day20 day = new Aoc2020Day20();
        assertEquals("20899048083289", test("""
                                Tile 2311:
                                ..##.#..#.
                                ##..#.....
                                #...##..#.
                                ####.#...#
                                ##.##.###.
                                ##...#.###
                                .#.#.#..##
                                ..#....#..
                                ###...#.#.
                                ..###..###
                                                                
                                Tile 1951:
                                #.##...##.
                                #.####...#
                                .....#..##
                                #...######
                                .##.#....#
                                .###.#####
                                ###.##.##.
                                .###....#.
                                ..#.#..#.#
                                #...##.#..
                                                                
                                Tile 1171:
                                ####...##.
                                #..##.#..#
                                ##.#..#.#.
                                .###.####.
                                ..###.####
                                .##....##.
                                .#...####.
                                #.##.####.
                                ####..#...
                                .....##...
                                                                
                                Tile 1427:
                                ###.##.#..
                                .#..#.##..
                                .#.##.#..#
                                #.#.#.##.#
                                ....#...##
                                ...##..##.
                                ...#.#####
                                .#.####.#.
                                ..#..###.#
                                ..##.#..#.
                                                                
                                Tile 1489:
                                ##.#.#....
                                ..##...#..
                                .##..##...
                                ..#...#...
                                #####...#.
                                #..#.#.#.#
                                ...#.#.#..
                                ##.#...##.
                                ..##.##.##
                                ###.##.#..
                                                                
                                Tile 2473:
                                #....####.
                                #..#.##...
                                #.##..#...
                                ######.#.#
                                .#...#.#.#
                                .#########
                                .###.#..#.
                                ########.#
                                ##...##.#.
                                ..###.#.#.
                                                                
                                Tile 2971:
                                ..#.#....#
                                #...###...
                                #.#.###...
                                ##.##..#..
                                .#####..##
                                .#..####.#
                                #..#.#..#.
                                ..####.###
                                ..#.#.###.
                                ...#.#.#.#
                                                                
                                Tile 2729:
                                ...#.#.#.#
                                ####.#....
                                ..#.#.....
                                ....#..#.#
                                .##..##.#.
                                .#.####...
                                ####.#.#..
                                ##.####...
                                ##..#.##..
                                #.##...##.
                                                                
                                Tile 3079:
                                #.#.#####.
                                .#..######
                                ..#.......
                                ######....
                                ####.#..#.
                                .#...#.##.
                                #.#####.##
                                ..#.###...
                                ..#.......
                                ..#.###...""", day::part1));
        assertEquals("8581320593371", test(day.getInput1(), day::part1));
    }

    @Test
    public void test2() {
        final Aoc2020Day20 day = new Aoc2020Day20();
        assertEquals("273", test("""
                                Tile 2311:
                                ..##.#..#.
                                ##..#.....
                                #...##..#.
                                ####.#...#
                                ##.##.###.
                                ##...#.###
                                .#.#.#..##
                                ..#....#..
                                ###...#.#.
                                ..###..###
                                                                
                                Tile 1951:
                                #.##...##.
                                #.####...#
                                .....#..##
                                #...######
                                .##.#....#
                                .###.#####
                                ###.##.##.
                                .###....#.
                                ..#.#..#.#
                                #...##.#..
                                                                
                                Tile 1171:
                                ####...##.
                                #..##.#..#
                                ##.#..#.#.
                                .###.####.
                                ..###.####
                                .##....##.
                                .#...####.
                                #.##.####.
                                ####..#...
                                .....##...
                                                                
                                Tile 1427:
                                ###.##.#..
                                .#..#.##..
                                .#.##.#..#
                                #.#.#.##.#
                                ....#...##
                                ...##..##.
                                ...#.#####
                                .#.####.#.
                                ..#..###.#
                                ..##.#..#.
                                                                
                                Tile 1489:
                                ##.#.#....
                                ..##...#..
                                .##..##...
                                ..#...#...
                                #####...#.
                                #..#.#.#.#
                                ...#.#.#..
                                ##.#...##.
                                ..##.##.##
                                ###.##.#..
                                                                
                                Tile 2473:
                                #....####.
                                #..#.##...
                                #.##..#...
                                ######.#.#
                                .#...#.#.#
                                .#########
                                .###.#..#.
                                ########.#
                                ##...##.#.
                                ..###.#.#.
                                                                
                                Tile 2971:
                                ..#.#....#
                                #...###...
                                #.#.###...
                                ##.##..#..
                                .#####..##
                                .#..####.#
                                #..#.#..#.
                                ..####.###
                                ..#.#.###.
                                ...#.#.#.#
                                                                
                                Tile 2729:
                                ...#.#.#.#
                                ####.#....
                                ..#.#.....
                                ....#..#.#
                                .##..##.#.
                                .#.####...
                                ####.#.#..
                                ##.####...
                                ##..#.##..
                                #.##...##.
                                                                
                                Tile 3079:
                                #.#.#####.
                                .#..######
                                ..#.......
                                ######....
                                ####.#..#.
                                .#...#.##.
                                #.#####.##
                                ..#.###...
                                ..#.......
                                ..#.###...""", day::part2));
        assertEquals("2031", test(day.getInput1(), day::part2));
    }
}